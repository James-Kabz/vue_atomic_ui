import{e as f,l,M as m,N as S,c as i,o as c,a as v,g as r,n,d as F,h as k,i as C}from"./index-GxWqBnN7.js";import B from"./Spinner-CdFEhUyI.js";const q=["src","alt","loading"],N={__name:"Image",props:{src:{type:String,required:!0},alt:{type:String,default:""},aspectRatio:{type:String,default:"auto",validator:e=>["auto","square","16/9","4/3","3/2"].includes(e)},objectFit:{type:String,default:"cover",validator:e=>["cover","contain","fill","none","scale-down"].includes(e)},loading:{type:String,default:"lazy",validator:e=>["lazy","eager"].includes(e)},showSpinner:{type:Boolean,default:!0},class:String},emits:["load","error"],setup(e,{emit:p}){const a=e,u=p,t=f(!0),s=f(!1),g=S("relative overflow-hidden ui-surface-muted",{variants:{aspectRatio:{auto:"",square:"aspect-square","16/9":"aspect-video","4/3":"aspect-[4/3]","3/2":"aspect-[3/2]"}}}),y=l(()=>m(g({aspectRatio:a.aspectRatio}),a.class)),b=l(()=>m("h-full w-full transition-opacity duration-300",{"object-cover":a.objectFit==="cover","object-contain":a.objectFit==="contain","object-fill":a.objectFit==="fill","object-none":a.objectFit==="none","object-scale-down":a.objectFit==="scale-down"},t.value&&"opacity-0",s.value&&"hidden")),j=l(()=>"absolute inset-0 flex items-center justify-center ui-surface-muted"),h=l(()=>"absolute inset-0 flex flex-col items-center justify-center gap-2 ui-surface-muted"),w=o=>{t.value=!1,s.value=!1,u("load",o)},x=o=>{t.value=!1,s.value=!0,u("error",o)};return(o,d)=>(c(),i("div",{class:n(y.value)},[v("img",{src:e.src,alt:e.alt,class:n(b.value),loading:e.loading,onLoad:w,onError:x},null,42,q),t.value?(c(),i("div",{key:0,class:n(j.value)},[e.showSpinner?(c(),F(B,{key:0,size:"sm"})):r("",!0)],2)):r("",!0),s.value?(c(),i("div",{key:1,class:n(h.value)},[k(C,{name:"ImageOff",class:"h-8 w-8 ui-text"}),d[0]||(d[0]=v("span",{class:"text-sm ui-text"},"Failed to load image",-1))],2)):r("",!0)],2))}};export{N as default};

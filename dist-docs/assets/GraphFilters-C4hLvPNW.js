import{e as h,l as r,M as K,N as Q,f as $,c,o as l,a as s,g as m,h as d,J as B,i as p,O as T,n as o,w as y,p as D,F as N,b as R,t as b,D as W,d as C,q as w}from"./index-GxWqBnN7.js";import k from"./Button-BeNwfNW8.js";const X={class:"border-b"},Y={key:0,class:"flex items-center gap-3 min-w-64"},Z={class:"relative flex-1"},ee={class:"relative flex-1"},te={key:1,class:"min-w-40"},ae={class:"relative"},se={key:2,class:"min-w-40"},le={class:"relative"},re=["value"],oe={key:3,class:"flex items-center gap-2"},ne={class:"flex items-center gap-3 ml-auto"},ie={class:"flex items-center gap-3 flex-wrap"},ue=["onClick"],pe={__name:"GraphFilters",props:{showDateFilter:{type:Boolean,default:!0},showChartTypeFilter:{type:Boolean,default:!0},showExport:{type:Boolean,default:!1},showRefresh:{type:Boolean,default:!0},dataSources:{type:Array,default:()=>[]},variant:{type:String,default:"default",validator:n=>["default","minimal","bordered"].includes(n)},padding:{type:String,default:"normal",validator:n=>["compact","normal","comfortable"].includes(n)}},emits:["update:dateFrom","update:dateTo","update:chartType","update:dataSource","export","refresh","clear-filters"],setup(n,{emit:U}){const g=n,f=U,i=h(""),u=h(""),x=h("bar"),v=h(""),A=Q("flex flex-wrap items-center gap-4",{variants:{variant:{default:"",minimal:"bg-transparent",bordered:""},padding:{compact:"px-4 py-3",normal:"px-6 py-4",comfortable:"px-8 py-6"}},defaultVariants:{variant:"default",padding:"normal"}}),E=r(()=>i.value||u.value||v.value),F=r(()=>{const a=[];if(i.value||u.value){let e="";i.value&&u.value?e=`${i.value} to ${u.value}`:i.value?e=`From ${i.value}`:u.value&&(e=`Until ${u.value}`),e&&a.push({key:"date",label:"Date Range",value:e,icon:"calendar"})}if(v.value){const e=g.dataSources.find(t=>t.value===v.value);a.push({key:"dataSource",label:"Data Source",value:e?.label||v.value,icon:"database"})}return a}),L=r(()=>K(A({variant:g.variant,padding:g.padding}))),S=r(()=>"w-full pl-10 pr-3 py-2 border ui-border-strong  rounded-lg focus:outline-none focus:ring-2 focus:ring-(--ui-primary) focus:border-transparent text-sm ui-surface "),V=r(()=>"w-full pr-8 appearance-none border ui-border-strong  rounded-lg focus:outline-none focus:ring-2 focus:ring-(--ui-primary) focus:border-transparent text-sm py-2 pl-3 ui-surface "),_=r(()=>"ui-text hover:text-(--ui-text) border   hover:brightness-105 px-3 py-2 rounded-lg text-sm font-medium transition-all"),M=r(()=>"ui-text ui-primary-bg hover:bg-(--ui-primary-strong) border border-(--ui-primary)  px-3 py-2 rounded-lg text-sm font-medium transition-all"),q=r(()=>"ui-text hover:text-(--ui-text) border   hover:brightness-105 px-3 py-2 rounded-lg text-sm font-medium transition-all"),z=r(()=>"px-6 py-3 ui-primary-soft border-t border-(--ui-primary-soft)"),G=r(()=>"text-sm font-semibold ui-primary"),I=r(()=>"flex items-center gap-1.5 ui-surface border border-(--ui-primary-soft) ui-primary px-3 py-1.5 rounded-full text-sm font-medium"),J=r(()=>"ui-primary hover:text-(--ui-primary) ml-1 hover:bg-(--ui-primary-soft) rounded-full p-0.5 transition-all"),O=a=>{x.value=a.target.value,f("update:chartType",a.target.value)},P=a=>{v.value=a.target.value,f("update:dataSource",a.target.value)},j=()=>{i.value="",u.value="",v.value="",f("clear-filters")},H=a=>{switch(a){case"date":i.value="",u.value="";break;case"dataSource":v.value="";break}};return $(()=>i.value,a=>{f("update:dateFrom",a)}),$(()=>u.value,a=>{f("update:dateTo",a)}),(a,e)=>(l(),c("div",X,[s("div",{class:o(L.value)},[n.showDateFilter?(l(),c("div",Y,[s("div",Z,[d(p,{icon:"calendar",class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ui-text"}),B(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),type:"date",class:o(S.value),placeholder:"From date"},null,2),[[T,i.value]])]),e[6]||(e[6]=s("span",{class:"ui-text text-sm"},"to",-1)),s("div",ee,[d(p,{icon:"calendar",class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ui-text"}),B(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),type:"date",class:o(S.value),placeholder:"To date"},null,2),[[T,u.value]])])])):m("",!0),n.showChartTypeFilter?(l(),c("div",te,[s("div",ae,[d(D,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=t=>x.value=t),class:o(V.value),onChange:O},{default:y(()=>[...e[7]||(e[7]=[s("option",{value:"bar"}," Bar Chart ",-1),s("option",{value:"line"}," Line Chart ",-1),s("option",{value:"pie"}," Pie Chart ",-1)])]),_:1},8,["modelValue","class"]),d(p,{icon:"chart-bar",class:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 ui-text pointer-events-none"})])])):m("",!0),n.dataSources.length>0?(l(),c("div",se,[s("div",le,[d(D,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t),class:o(V.value),onChange:P},{default:y(()=>[e[8]||(e[8]=s("option",{value:""}," All Sources ",-1)),(l(!0),c(N,null,R(n.dataSources,t=>(l(),c("option",{key:t.value,value:t.value},b(t.label),9,re))),128))]),_:1},8,["modelValue","class"]),d(p,{icon:"database",class:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 ui-text pointer-events-none"})])])):m("",!0),a.$slots.filters?(l(),c("div",oe,[W(a.$slots,"filters")])):m("",!0),s("div",ne,[E.value?(l(),C(k,{key:0,class:o(_.value),onClick:j},{default:y(()=>[d(p,{icon:"rotate-left",class:"w-4 h-4 mr-2"}),e[9]||(e[9]=w(" Clear Filters ",-1))]),_:1},8,["class"])):m("",!0),n.showExport?(l(),C(k,{key:1,class:o(M.value),onClick:e[4]||(e[4]=t=>a.$emit("export"))},{default:y(()=>[d(p,{icon:"download",class:"w-4 h-4 mr-2"}),e[10]||(e[10]=w(" Export ",-1))]),_:1},8,["class"])):m("",!0),n.showRefresh?(l(),C(k,{key:2,class:o(q.value),onClick:e[5]||(e[5]=t=>a.$emit("refresh"))},{default:y(()=>[d(p,{icon:"sync",class:"w-4 h-4 mr-2"}),e[11]||(e[11]=w(" Refresh ",-1))]),_:1},8,["class"])):m("",!0)])],2),F.value.length>0?(l(),c("div",{key:0,class:o(z.value)},[s("div",ie,[s("span",{class:o(G.value)},"Active filters:",2),(l(!0),c(N,null,R(F.value,t=>(l(),c("div",{key:t.key,class:o(I.value)},[d(p,{icon:t.icon,class:"w-3 h-3"},null,8,["icon"]),s("span",null,b(t.label)+": "+b(t.value),1),s("button",{class:o(J.value),onClick:de=>H(t.key)},[d(p,{icon:"circle-xmark",class:"w-3 h-3"})],10,ue)],2))),128))])],2)):m("",!0)]))}};export{pe as default};

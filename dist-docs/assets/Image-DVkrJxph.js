import{f,k as l,L as m,M as S,c as r,o as c,a as v,q as i,n,d as k,h as F,E as C}from"./index-swU1CFca.js";import q from"./Spinner-DxULw5Z9.js";const B=["src","alt","loading"],L={__name:"Image",props:{src:{type:String,required:!0},alt:{type:String,default:""},aspectRatio:{type:String,default:"auto",validator:e=>["auto","square","16/9","4/3","3/2"].includes(e)},objectFit:{type:String,default:"cover",validator:e=>["cover","contain","fill","none","scale-down"].includes(e)},loading:{type:String,default:"lazy",validator:e=>["lazy","eager"].includes(e)},showSpinner:{type:Boolean,default:!0},class:String},emits:["load","error"],setup(e,{emit:p}){const a=e,u=p,t=f(!0),s=f(!1),g=S("relative overflow-hidden ui-surface-muted",{variants:{aspectRatio:{auto:"",square:"aspect-square","16/9":"aspect-video","4/3":"aspect-[4/3]","3/2":"aspect-[3/2]"}}}),y=l(()=>m(g({aspectRatio:a.aspectRatio}),a.class)),b=l(()=>m("h-full w-full transition-opacity duration-300",{"object-cover":a.objectFit==="cover","object-contain":a.objectFit==="contain","object-fill":a.objectFit==="fill","object-none":a.objectFit==="none","object-scale-down":a.objectFit==="scale-down"},t.value&&"opacity-0",s.value&&"hidden")),j=l(()=>"absolute inset-0 flex items-center justify-center ui-surface-muted"),h=l(()=>"absolute inset-0 flex flex-col items-center justify-center gap-2 ui-surface-muted"),w=o=>{t.value=!1,s.value=!1,u("load",o)},x=o=>{t.value=!1,s.value=!0,u("error",o)};return(o,d)=>(c(),r("div",{class:n(y.value)},[v("img",{src:e.src,alt:e.alt,class:n(b.value),loading:e.loading,onLoad:w,onError:x},null,42,B),t.value?(c(),r("div",{key:0,class:n(j.value)},[e.showSpinner?(c(),k(q,{key:0,size:"sm"})):i("",!0)],2)):i("",!0),s.value?(c(),r("div",{key:1,class:n(h.value)},[F(C,{name:"ImageOff",class:"h-8 w-8 ui-text"}),d[0]||(d[0]=v("span",{class:"text-sm ui-text"},"Failed to load image",-1))],2)):i("",!0)],2))}};export{L as default};

import _ from"./Badge-BJJ0MFkX.js";import T from"./Button-c5O5D_l4.js";import $ from"./DataTable-C8EBrC6f.js";import V from"./DataTableFilters-xg_2k7wE.js";import q from"./DataTableToolBar-CznNgabW.js";import z from"./ReusableFormModal-OfuBHiw0.js";import{_ as B}from"./DashboardShell-KcDEVb1S.js";import{f as s,k as w,d as F,w as m,o as M,a as o,h as r,e as h,t as R}from"./index-swU1CFca.js";import"./Checkbox-CuHfikIC.js";import"./DataTableHeader-B2uiPZWB.js";import"./Typography-O4Ph8SKx.js";import"./DataTableRow-BpJPQaCH.js";import"./DataTableCell-J0yDVvUP.js";import"./DataTablePagination-OU608QZB.js";import"./Label-BlvPZULz.js";import"./Loader-CfiXD8ax.js";import"./Tooltip-CMHar1c8.js";import"./Modal-4zDQVSp5.js";import"./FileUpload-Dj9HMHhp.js";import"./CircularProgress-Ch0H0niu.js";import"./Slider-BwxNkg_b.js";import"./DatePicker-DB_xo-H5.js";import"./FormField-Ftm5D_dA.js";import"./Input-CC-MODul.js";import"./Textarea-DHz6EfEb.js";import"./MultiSelect-Dd0i5rTc.js";import"./toast-BjMW1k9Q.js";const D={class:"space-y-6 ui-bg"},E={class:"flex flex-wrap items-center justify-between gap-4"},N={class:"ui-bg rounded-xl shadow-sm border ui-border-strong overflow-hidden"},fe={__name:"DashboardUsers",setup(j){const i=s(""),f=s(""),g=s(""),u=s(""),p=s([]),c=s("normal"),n=s(!1),y=[{label:"Active",value:"active"},{label:"Paused",value:"paused"},{label:"Pending",value:"pending"}],C={label:"Add User",variant:"success",icon:"plus",size:"md",tooltip:"Create a new user"},v=[{key:"name",label:"User"},{key:"role",label:"Role"},{key:"status",label:"Status"},{key:"lastLogin",label:"Last Login"}],l=s(v.map(t=>t.key)),U=w(()=>v.filter(t=>l.value.includes(t.key))),d=s([{id:1,name:"Ari Lopez",role:"Admin",status:"active",lastLogin:"2 hours ago"},{id:2,name:"Bianca Shaw",role:"Manager",status:"active",lastLogin:"Yesterday"},{id:3,name:"Chris Mills",role:"Analyst",status:"pending",lastLogin:"2 days ago"},{id:4,name:"Dani Hill",role:"Reviewer",status:"paused",lastLogin:"3 days ago"},{id:5,name:"Emil Cruz",role:"Analyst",status:"active",lastLogin:"4 days ago"}]),b=w(()=>d.value.filter(t=>{const e=!i.value||t.name.toLowerCase().includes(i.value.toLowerCase()),a=!u.value||t.status===u.value;return e&&a})),k=[{key:"message",label:"Message",icon:"message",variant:"primary"},{key:"pause",label:"Pause",icon:"pause",variant:"warning"},{key:"remove",label:"Remove",icon:"trash",variant:"danger"}],x=t=>({active:"success",paused:"warning",pending:"secondary"})[t]||"secondary",A=({column:t,visible:e})=>{e?l.value.includes(t)||(l.value=[...l.value,t]):l.value=l.value.filter(a=>a!==t)},L=[{name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Jordan Blake",wrapperClass:"col-span-12 md:col-span-6"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"jordan@company.com",wrapperClass:"col-span-12 md:col-span-6"},{name:"role",label:"Role",type:"select",required:!0,placeholder:"Select role",options:[{label:"Admin",value:"Admin"},{label:"Manager",value:"Manager"},{label:"Analyst",value:"Analyst"},{label:"Reviewer",value:"Reviewer"}],wrapperClass:"col-span-12 md:col-span-6"},{name:"status",label:"Status",type:"select",required:!0,options:y,wrapperClass:"col-span-12 md:col-span-6"}],S=({formData:t})=>{const e=t instanceof FormData?Object.fromEntries(t.entries()):t;!e?.name||!e?.email||!e?.role||(d.value=[...d.value,{id:d.value.length+1,name:e.name,role:e.role,status:e.status||"active",lastLogin:"Just now"}],n.value=!1)};return(t,e)=>(M(),F(B,{"current-page":"Users"},{default:m(()=>[o("div",D,[o("div",E,[e[10]||(e[10]=o("div",null,[o("h1",{class:"text-2xl font-semibold ui-text"}," User Directory "),o("p",{class:"ui-text mt-1"}," Track active users, permissions, and last activity. ")],-1)),r(T,{variant:"primary"},{default:m(()=>[...e[9]||(e[9]=[h(" Invite Team ",-1)])]),_:1})]),o("div",N,[r(V,{"search-query":i.value,"onUpdate:searchQuery":e[0]||(e[0]=a=>i.value=a),"date-from":f.value,"onUpdate:dateFrom":e[1]||(e[1]=a=>f.value=a),"date-to":g.value,"onUpdate:dateTo":e[2]||(e[2]=a=>g.value=a),"selected-status":u.value,"onUpdate:selectedStatus":e[3]||(e[3]=a=>u.value=a),"status-options":y,"show-file-upload":!1,"show-date-filter":!1,"show-export":!0,"show-add":!0,"add-button":C,"search-placeholder":"Search users",onExport:()=>{},onAdd:e[4]||(e[4]=a=>n.value=!0)},null,8,["search-query","date-from","date-to","selected-status"]),r(q,{"selected-items":p.value,"total-items":b.value.length,"item-label":"users found","bulk-actions":k,density:c.value,"toggleable-columns":v,"visible-columns":l.value,"show-density-toggle":!0,"show-column-toggle":!1,"show-refresh":!1,"show-table-info":!0,"onUpdate:density":e[5]||(e[5]=a=>c.value=a),onToggleColumn:A},null,8,["selected-items","total-items","density","visible-columns"]),r($,{data:b.value,columns:U.value,selectable:!0,"selected-items":p.value,density:c.value,"page-size":5,"show-pagination":!0,striped:"",onSelectionChange:e[6]||(e[6]=a=>p.value=a)},{"cell-status":m(({value:a})=>[r(_,{variant:x(a),size:"sm"},{default:m(()=>[h(R(a),1)]),_:2},1032,["variant"])]),_:1},8,["data","columns","selected-items","density"])])]),r(z,{modelValue:n.value,"onUpdate:modelValue":e[7]||(e[7]=a=>n.value=a),"modal-type":"create","entity-name":"User",fields:L,"initial-data":{status:"active"},"modal-size":"3xl",onSubmit:S,onClose:e[8]||(e[8]=a=>n.value=!1)},null,8,["modelValue"])]),_:1}))}};export{fe as default};

import{f as M,k as c,c as n,o as s,q as h,a as x,F as f,b as y,n as g,t as v}from"./index-swU1CFca.js";const N={class:"ui-surface w-full h-full"},P=["width","height","viewBox"],V={key:0},Y=["x1","y1","x2","y2","stroke"],T=["d","stroke","stroke-width"],W={key:1},j=["cx","cy","r","fill","stroke","onMouseenter"],H=["d","fill","fill-opacity"],O={key:3},R=["x","y"],X={key:4},q=["x","y"],D={key:5},E=["x","y","width","height","fill","stroke"],F=["x","y"],z={__name:"LineChart",props:{data:{type:Array,required:!0},labels:{type:Array,default:()=>[]},width:{type:Number||String,default:400},height:{type:Number,default:300},padding:{type:Object,default:()=>({top:20,right:20,bottom:60,left:60})},showGrid:{type:Boolean,default:!0},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0},showPoints:{type:Boolean,default:!0},fillArea:{type:Boolean,default:!1},gridColor:{type:String,default:"#e5e7eb"},lineColor:{type:String,default:"#3b82f6"},strokeWidth:{type:Number,default:2},pointRadius:{type:Number,default:4},pointColor:{type:String,default:"#ffffff"},fillColor:{type:String,default:"#3b82f6"},fillOpacity:{type:Number,default:.1},lineClasses:{type:String,default:"transition-all duration-200"},pointClasses:{type:String,default:"transition-all duration-200 hover:r-6 cursor-pointer"},axisLabelClasses:{type:String,default:"fill-(--ui-text) text-xs font-medium"},tooltipBackground:{type:String,default:"#1f2937"},tooltipBorder:{type:String,default:"#374151"},tooltipTextClasses:{type:String,default:"fill-(--ui-surface) text-xs font-medium"},maxValue:{type:Number,default:null}},emits:["point-click","point-hover"],setup(t,{emit:w}){const l=t,p=w,r=M({visible:!1,x:0,y:0,width:0,height:0,content:""}),m=c(()=>l.maxValue||Math.max(...l.data)),d=c(()=>l.data.map((i,a)=>({x:k(a),y:B(i),value:i}))),C=c(()=>d.value.length===0?"":d.value.map((a,e)=>`${e===0?"M":"L"} ${a.x} ${a.y}`).join(" ")),$=c(()=>{if(d.value.length===0)return"";const i=d.value.map((o,u)=>`${u===0?"M":"L"} ${o.x} ${o.y}`).join(" "),a=l.height-l.padding.bottom,e=`L ${d.value[d.value.length-1].x} ${a} L ${d.value[0].x} ${a} Z`;return i+" "+e}),b=c(()=>{const i=[],a=l.height-l.padding.top-l.padding.bottom,e=5;for(let o=0;o<=e;o++){const u=l.padding.top+a/e*o;i.push(u)}return i}),k=i=>{const e=(l.width-l.padding.left-l.padding.right)/(l.data.length-1||1);return l.padding.left+i*e},B=i=>{const a=l.height-l.padding.top-l.padding.bottom,e=a/m.value;return l.padding.top+a-i*e},L=i=>{const a=l.height-l.padding.top-l.padding.bottom,e=(l.height-l.padding.bottom-i)/a*m.value;return Math.round(e)},S=(i,a,e)=>{const o=i.target.getBoundingClientRect(),u=l.labels[e]||`Point ${e+1}`;r.value={visible:!0,x:o.left+o.width/2,y:o.top,width:80,height:24,content:`${u}: ${a}`},p("point-hover",{value:a,index:e,label:u})},A=()=>{r.value.visible=!1};return(i,a)=>(s(),n("div",N,[(s(),n("svg",{width:t.width,height:t.height,viewBox:`0 0 ${t.width} ${t.height}`,class:"overflow-visible"},[t.showGrid?(s(),n("g",V,[(s(!0),n(f,null,y(b.value,e=>(s(),n("line",{key:`grid-${e}`,x1:t.padding.left,y1:e,x2:t.width-t.padding.right,y2:e,stroke:t.gridColor,"stroke-width":"1","stroke-dasharray":"2,2"},null,8,Y))),128))])):h("",!0),x("path",{d:C.value,stroke:t.lineColor,"stroke-width":t.strokeWidth,fill:"none",class:g(t.lineClasses)},null,10,T),t.showPoints?(s(),n("g",W,[(s(!0),n(f,null,y(d.value,(e,o)=>(s(),n("circle",{key:`point-${o}`,cx:e.x,cy:e.y,r:t.pointRadius,fill:t.pointColor,stroke:t.lineColor,"stroke-width":2,class:g(t.pointClasses),onMouseenter:u=>S(u,e.value,o),onMouseleave:A},null,42,j))),128))])):h("",!0),t.fillArea?(s(),n("path",{key:2,d:$.value,fill:t.fillColor,"fill-opacity":t.fillOpacity},null,8,H)):h("",!0),t.showXAxis?(s(),n("g",O,[(s(!0),n(f,null,y(t.labels,(e,o)=>(s(),n("text",{key:`xlabel-${o}`,x:k(o),y:t.height-t.padding.bottom+20,class:g(t.axisLabelClasses),"text-anchor":"middle"},v(e),11,R))),128))])):h("",!0),t.showYAxis?(s(),n("g",X,[(s(!0),n(f,null,y(b.value,e=>(s(),n("text",{key:`ylabel-${e}`,x:t.padding.left-10,y:e+4,class:g(t.axisLabelClasses),"text-anchor":"end"},v(L(e)),11,q))),128))])):h("",!0),r.value.visible?(s(),n("g",D,[x("rect",{x:r.value.x-r.value.width/2,y:r.value.y-r.value.height-10,width:r.value.width,height:r.value.height,fill:t.tooltipBackground,stroke:t.tooltipBorder,"stroke-width":"1",rx:"4"},null,8,E),x("text",{x:r.value.x,y:r.value.y-r.value.height/2-2,class:g(t.tooltipTextClasses),"text-anchor":"middle"},v(r.value.content),11,F)])):h("",!0)],8,P))]))}};export{z as default};

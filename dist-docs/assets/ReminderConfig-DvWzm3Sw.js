import{_ as I,e as k,c as l,o as n,a as e,h as d,F as g,b as h,t as p,q as b,L as O,n as y,i as c,w as C,g as _,d as R,T as E}from"./index-GxWqBnN7.js";import z from"./Modal-CINFEKg1.js";const F={class:"reminder-config-wrapper"},L={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},q=["onClick"],U={class:"flex items-start justify-between gap-4"},G={class:"flex items-center gap-4"},H={class:"w-12 h-12 bg-linear-to-br from-(--ui-primary) to-(--ui-accent) rounded-xl flex items-center justify-center shadow-md"},J={class:"ui-text font-bold text-lg"},K={class:"text-xl font-bold ui-text"},P={class:"flex items-center gap-2 mt-1"},Q={class:"inline-flex items-center gap-1.5 px-3 py-1 ui-primary-soft ui-primary text-xs font-semibold rounded-full"},W={class:"flex items-start gap-3"},X=["onClick"],Y={key:0,class:"p-6 bg-linear-to-br from-(--ui-surface) to-[color:color-mix(in oklab, var(--ui-primary-soft), transparent 70%)]"},Z={key:0,class:"text-center py-16"},ee={class:"w-20 h-20 bg-linear-to-br from-(--ui-surface) to-(--ui-bg) rounded-2xl flex items-center justify-center mx-auto mb-4"},se={key:1,class:"space-y-4"},te={class:"flex items-start gap-4"},ie={class:"flex-1 space-y-5"},oe={class:"relative"},re=["value","onInput"],ne={class:"flex items-center gap-3 p-4 ui-surface-muted rounded-lg border ui-border-strong"},le=["id","checked","onChange"],ae=["for"],de={class:"grid grid-cols-2 gap-3"},ce=["onClick"],ue=["onClick"],pe={class:"flex items-start gap-3"},me={class:"w-10 h-10 bg-linear-to-br from-(--ui-primary-soft) to-(--ui-accent-soft) rounded-lg flex items-center justify-center group-hover:from-(--ui-primary-soft) group-hover:to-(--ui-accent-soft) transition-all"},fe={class:"text-left"},xe={class:"text-sm font-semibold ui-text block"},ve={key:0,class:"mt-3 p-4 ui-surface-muted rounded-lg border ui-border-strong"},ge={class:"flex flex-wrap gap-2"},he=["onClick"],be={class:"bg-linear-to-r from-(--ui-success) to-(--ui-success) p-6 ui-text"},ye={class:"flex items-start justify-between gap-4"},_e={class:"flex items-start gap-3"},ke={class:"w-12 h-12 bg-[color:color-mix(in oklab, var(--ui-bg), transparent 80%)] rounded-lg flex items-center justify-center"},we={class:"ui-surface px-5 py-4 max-h-88 overflow-y-auto"},Ce={key:0,class:"text-center py-6"},Re={key:1,class:"space-y-2"},$e={class:"relative shrink-0"},Te=["checked","onChange"],De={class:"flex-1 min-w-0"},je={class:"px-5 py-4 ui-surface-muted border-t ui-border flex gap-2"},Ne={__name:"ReminderConfig",props:{models:{type:Array,default:()=>[]},availableRecipients:{type:Array,default:()=>[]},sendTypeOptions:{type:Array,default:()=>[{value:"email",label:"Email"},{value:"in-app",label:"In-App"}]}},emits:["update:models"],setup(v,{emit:$}){const a=v,m=$,w=k(null),x=k(!1),u=k(null),T=r=>{const s=a.models.find(t=>t.id===r);s&&(s.expanded=!s.expanded,m("update:models",[...a.models]))},D=r=>{const s=a.models.find(t=>t.id===r);if(s){const t={id:Date.now(),days:0,recipients:[],sendTypes:[],isDaily:!1};s.reminders.push(t),m("update:models",[...a.models])}},j=(r,s)=>{const t=a.models.find(i=>i.id===r);t&&(t.reminders=t.reminders.filter(i=>i.id!==s),m("update:models",[...a.models]))},N=(r,s,t)=>{const i=a.models.find(o=>o.id===r);if(i){const o=i.reminders.find(f=>f.id===s);o&&(o.days=parseInt(t)||0,m("update:models",[...a.models]))}},A=(r,s,t)=>{const i=a.models.find(o=>o.id===r);if(i){const o=i.reminders.find(f=>f.id===s);if(o){o.sendTypes||(o.sendTypes=[]);const f=o.sendTypes.indexOf(t);f>-1?o.sendTypes.splice(f,1):o.sendTypes.push(t),m("update:models",[...a.models])}}},M=(r,s)=>{const t=a.models.find(i=>i.id===r);if(t){const i=t.reminders.find(o=>o.id===s);i&&(i.isDaily=!i.isDaily,m("update:models",[...a.models]))}},S=(r,s)=>{const i=a.models.find(o=>o.id===r).reminders.find(o=>o.id===s);w.value=r,u.value={...i,recipients:[...i.recipients||[]]},x.value=!0},V=r=>{const s=u.value.recipients.indexOf(r);s>-1?u.value.recipients.splice(s,1):u.value.recipients.push(r)},B=()=>{const r=a.models.find(s=>s.id===w.value);if(r){const s=r.reminders.find(t=>t.id===u.value.id);s&&(s.recipients=[...u.value.recipients],m("update:models",[...a.models]))}x.value=!1};return(r,s)=>(n(),l("div",F,[e("div",L,[(n(!0),l(g,null,h(v.models,t=>(n(),l("div",{key:t.id,class:"ui-surface rounded-2xl shadow-lg border ui-border-strong overflow-hidden hover:shadow-xl transition-all duration-300"},[e("div",{class:"p-6 cursor-pointer hover:bg-linear-to-r hover:from-(--ui-primary-soft) hover:to-(--ui-accent-soft) transition-all duration-300 border-b ui-border-strong",onClick:i=>T(t.id)},[e("div",U,[e("div",G,[e("div",H,[e("span",J,p(t.name[0]),1)]),e("div",null,[e("h2",K,p(t.name),1),e("div",P,[e("span",Q,[s[3]||(s[3]=e("div",{class:"w-1.5 h-1.5 ui-primary-bg rounded-full"},null,-1)),b(" "+p(t.reminders.length)+" reminder"+p(t.reminders.length!==1?"s":""),1)])])])]),e("div",W,[e("button",{class:"px-4 py-2.5 bg-linear-to-r from-(--ui-success) to-(--ui-success) ui-text-inverse rounded-lg font-semibold text-sm hover:from-(--ui-success) hover:to-(--ui-success-strong) transition-all duration-300 shadow-md hover:shadow-lg flex items-center gap-2",onClick:O(i=>D(t.id),["stop"])},[d(c,{icon:"plus",class:y(["w-4 h-4",{"ui-text":!t.expanded,"ui-text-inverse":t.expanded}])},null,8,["class"]),s[4]||(s[4]=b(" Add Reminder ",-1))],8,X),d(c,{icon:t.expanded?"chevron-up":"chevron-down",class:y(["w-6 h-6 ui-text transition-transform duration-300",{"rotate-180":t.expanded}])},null,8,["icon","class"])])])],8,q),d(E,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-screen","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 max-h-screen","leave-to-class":"opacity-0 max-h-0"},{default:C(()=>[t.expanded?(n(),l("div",Y,[t.reminders.length===0?(n(),l("div",Z,[e("div",ee,[d(c,{icon:"bell",class:"w-10 h-10 ui-text"})]),s[5]||(s[5]=e("h3",{class:"text-lg font-semibold ui-text mb-2"}," No reminders configured ",-1)),s[6]||(s[6]=e("p",{class:"ui-text text-sm mb-4"},' Click "Add Reminder" to create your first reminder ',-1))])):(n(),l("div",se,[(n(!0),l(g,null,h(t.reminders,i=>(n(),l("div",{key:i.id,class:"ui-surface rounded-xl border ui-border-strong p-6 hover:shadow-md transition-all duration-300"},[e("div",te,[e("div",ie,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-xs font-bold ui-text mb-2 uppercase tracking-wider"}," Days Before Event ",-1)),e("div",oe,[e("input",{type:"number",min:"0",value:i.days,class:"w-full px-4 py-3 border-2 ui-border-strong rounded-lg focus:outline-none focus:border-(--ui-primary) focus:ring-4 focus:ring-(--ui-primary) transition-all duration-300 font-semibold ui-text text-lg",placeholder:"0",onInput:o=>N(t.id,i.id,o.target.value)},null,40,re),s[7]||(s[7]=e("div",{class:"absolute right-4 top-1/2 -translate-y-1/2 ui-text text-sm font-medium"}," days ",-1))])]),e("div",ne,[e("input",{id:`daily-${i.id}`,type:"checkbox",checked:i.isDaily,class:"w-4 h-4 ui-primary rounded border ui-border-strong focus:ring-2 focus:ring-(--ui-primary) transition-all cursor-pointer",onChange:o=>M(t.id,i.id)},null,40,le),e("label",{for:`daily-${i.id}`,class:"flex-1 cursor-pointer"},[...s[9]||(s[9]=[e("span",{class:"text-sm font-semibold ui-text block"}," Send Daily Reminder ",-1),e("span",{class:"text-xs ui-text"}," Repeat this reminder every day ",-1)])],8,ae)]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-xs font-bold ui-text mb-3 uppercase tracking-wider"}," Notification Methods ",-1)),e("div",de,[(n(!0),l(g,null,h(v.sendTypeOptions,o=>(n(),l("button",{key:o.value,class:y(["relative px-4 py-3.5 rounded-lg font-semibold text-sm transition-all duration-300 flex items-center justify-center gap-2 border-2",(i.sendTypes||[]).includes(o.value)?"bg-linear-to-r from-(--ui-primary) to-(--ui-accent) ui-text-inverse border-transparent shadow-md":"ui-surface  ui-text ui-border-strong  hover:border-(--ui-primary-soft) hover:bg-(--ui-primary-soft)"]),onClick:f=>A(t.id,i.id,o.value)},[d(c,{icon:o.value==="email"?"envelope":"bell",class:"w-4 h-4"},null,8,["icon"]),b(" "+p(o.label)+" ",1),(i.sendTypes||[]).includes(o.value)?(n(),R(c,{key:0,icon:"check-circle",class:"w-4 h-4 absolute top-2 right-2"})):_("",!0)],10,ce))),128))])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-xs font-bold ui-text mb-3 uppercase tracking-wider"}," Recipients ",-1)),e("button",{class:"w-full px-4 py-3.5 ui-surface border-2 ui-border-strong rounded-lg hover:border-(--ui-primary-soft) hover:bg-(--ui-primary-soft) transition-all duration-300 flex items-center justify-between group",onClick:o=>S(t.id,i.id)},[e("div",pe,[e("div",me,[d(c,{icon:"users",class:"w-5 h-5 ui-primary"})]),e("div",fe,[e("span",xe,p((i.recipients||[]).length===0?"Select recipients":`${(i.recipients||[]).length} recipient${(i.recipients||[]).length!==1?"s":""} selected`),1),s[11]||(s[11]=e("span",{class:"text-xs ui-text"}," Click to manage ",-1))])]),d(c,{icon:"chevron-right",class:"w-5 h-5 ui-text group-hover:text-(--ui-primary) group-hover:translate-x-1 transition-all"})],8,ue),(i.recipients||[]).length>0?(n(),l("div",ve,[e("div",ge,[(n(!0),l(g,null,h(i.recipients,o=>(n(),l("span",{key:o,class:"inline-flex items-center gap-1.5 px-3 py-1.5 ui-surface border border-(--ui-primary-soft) ui-primary text-xs font-semibold rounded-lg shadow-sm"},[d(c,{icon:"user",class:"w-3 h-3"}),b(" "+p(o),1)]))),128))])])):_("",!0)])]),e("button",{class:"p-3 bg-linear-to-r from-(--ui-danger) to-(--ui-danger) ui-text rounded-lg hover:from-(--ui-danger) hover:to-(--ui-danger-strong) transition-all duration-300 shadow-md hover:shadow-lg self-start",title:"Delete reminder",onClick:o=>j(t.id,i.id)},[d(c,{icon:"trash",class:"w-4 h-4"})],8,he)])]))),128))]))])):_("",!0)]),_:2},1024)]))),128))]),d(z,{modelValue:x.value,"onUpdate:modelValue":s[2]||(s[2]=t=>x.value=t),size:"3xl","show-close":!1},{default:C(()=>[e("div",be,[e("div",ye,[e("div",_e,[e("div",ke,[d(c,{icon:"users",class:"w-4 h-4"})]),s[13]||(s[13]=e("div",null,[e("h3",{class:"text-lg font-semibold leading-tight"}," Select Recipients "),e("p",{class:"text-(--ui-primary-soft) text-xs mt-1"}," Choose who should receive this reminder ")],-1))]),e("button",{class:"p-1.5 hover:bg-[color:color-mix(in oklab, var(--ui-surface), transparent 80%)] rounded-md transition-colors","aria-label":"Close",onClick:s[0]||(s[0]=t=>x.value=!1)},[d(c,{icon:"x",class:"w-4 h-4"})])])]),e("div",we,[v.availableRecipients.length===0?(n(),l("div",Ce,[d(c,{icon:"users",class:"w-10 h-10 ui-text mx-auto mb-2"}),s[14]||(s[14]=e("p",{class:"ui-text text-sm"}," No recipients available ",-1))])):(n(),l("div",Re,[(n(!0),l(g,null,h(v.availableRecipients,t=>(n(),l("label",{key:t,class:y(["flex items-center gap-3 px-3 py-2.5 rounded-md cursor-pointer transition-all border",u.value?.recipients.includes(t)?"bg-linear-to-r from-(--ui-primary-soft) to-(--ui-accent-soft) border-(--ui-primary-soft) shadow-sm":"ui-surface ui-border hover:border-(--ui-primary-soft) hover:bg-(--ui-surface-muted)"])},[e("div",$e,[e("input",{type:"checkbox",checked:u.value?.recipients.includes(t),class:"w-4 h-4 ui-primary rounded border ui-border-strong focus:ring-2 focus:ring-(--ui-primary) transition-all cursor-pointer",onChange:i=>V(t)},null,40,Te)]),e("div",De,[e("span",{class:y(["text-sm font-medium block truncate",u.value?.recipients.includes(t)?"ui-primary":"ui-text"])},p(t),3)]),u.value?.recipients.includes(t)?(n(),R(c,{key:0,icon:"check-circle",class:"w-4 h-4 ui-primary shrink-0"})):_("",!0)],2))),128))]))]),e("div",je,[e("button",{class:"px-4 py-2 ui-surface border ui-border ui-text rounded-md text-sm font-medium hover:bg-(--ui-surface-muted) transition-colors",onClick:s[1]||(s[1]=t=>x.value=!1)}," Cancel "),e("button",{class:"ml-auto px-4 py-2 ui-success-bg rounded-md text-sm font-semibold hover:bg-(--ui-success-strong) transition-colors flex items-center gap-2",onClick:B},[d(c,{icon:"check",class:"w-4 h-4"}),s[15]||(s[15]=b(" Save Recipients ",-1))])])]),_:1},8,["modelValue"])]))}},Se=I(Ne,[["__scopeId","data-v-c46bf185"]]);export{Se as default};

import{e as u,l as S,c as b,a as o,h as a,w as s,L as q,o as g,q as l,t as E,n as x}from"./index-GxWqBnN7.js";import i from"./Typography-Dbut3QiO.js";import w from"./Button-BeNwfNW8.js";import _ from"./FormField-2FwP1Rz5.js";import k from"./Input-COxbEzCi.js";import $ from"./Link-CXG_fDwI.js";import"./DatePicker-BChit199.js";const B={class:"w-full max-w-sm space-y-6"},L={class:"text-center space-y-2"},h={key:0,class:"text-center space-y-4"},j={class:"space-y-2"},z={class:"pt-4 space-y-3"},F={class:"text-center"},I={__name:"ForgotPasswordPage",setup(T){const r=u(""),d=u(""),n=u(!1),c=u(!1),t=u({}),C=async()=>{if(t.value={},n.value=!0,r.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value)||(t.value.email="Please enter a valid email address"):t.value.email="Email is required",d.value||(t.value.companyCode="Company code is required"),Object.keys(t.value).length===0)try{console.log("Password reset requested:",{email:r.value,companyCode:d.value}),await new Promise(m=>setTimeout(m,1500)),c.value=!0}catch(m){console.error("Password reset failed:",m),t.value.email="Failed to send reset email. Please try again."}n.value=!1},V=S(()=>Object.keys(t.value).length===0&&r.value&&d.value),P=()=>{c.value=!1,t.value={}};return(m,e)=>(g(),b("div",B,[o("div",L,[a(i,{variant:"display-sm",class:"ui-text"},{default:s(()=>[...e[2]||(e[2]=[l(" Forgot Password? ",-1)])]),_:1}),a(i,{variant:"body-sm",class:"ui-text"},{default:s(()=>[...e[3]||(e[3]=[l(" Enter your email and company code to receive a password reset link. ",-1)])]),_:1})]),c.value?(g(),b("div",h,[e[7]||(e[7]=o("div",{class:"mx-auto w-12 h-12 ui-success-soft rounded-full flex items-center justify-center"},[o("svg",{class:"w-6 h-6 ui-success",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o("div",j,[a(i,{variant:"text-sm",class:"ui-text font-semibold"},{default:s(()=>[...e[4]||(e[4]=[l(" Reset Link Sent! ",-1)])]),_:1}),a(i,{variant:"body-sm",class:"ui-text"},{default:s(()=>[l(" We've sent a password reset link to "+E(r.value)+". Please check your email and follow the instructions. ",1)]),_:1})]),o("div",z,[a(i,{variant:"body-sm",class:"ui-text"},{default:s(()=>[...e[5]||(e[5]=[l(" Didn't receive the email? Check your spam folder or try again. ",-1)])]),_:1}),a(w,{variant:"default",size:"sm",class:"mx-auto",onClick:P},{default:s(()=>[...e[6]||(e[6]=[l(" Try Again ",-1)])]),_:1})])])):(g(),b("form",{key:1,class:"space-y-6",onSubmit:q(C,["prevent"])},[a(_,{label:"Email",error:t.value.email,required:""},{default:s(({fieldId:v,hasError:f,ariaDescribedBy:p})=>[a(k,{id:v,modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=y=>r.value=y),placeholder:"Enter your email address",type:"email",class:x(f?"border-(--ui-danger)":"ui-border-strong"),"aria-describedby":p,disabled:n.value},null,8,["id","modelValue","class","aria-describedby","disabled"])]),_:1},8,["error"]),a(_,{label:"Company Code",error:t.value.companyCode,required:""},{default:s(({fieldId:v,hasError:f,ariaDescribedBy:p})=>[a(k,{id:v,modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=y=>d.value=y),placeholder:"Enter your company code",type:"text",class:x(f?"border-(--ui-danger)":"ui-border-strong"),"aria-describedby":p,disabled:n.value},null,8,["id","modelValue","class","aria-describedby","disabled"])]),_:1},8,["error"]),a(w,{type:"submit",disabled:!V.value,loading:n.value,"loading-text":"Sending...",variant:"default",size:"default",class:"w-full"},{default:s(()=>[...e[8]||(e[8]=[l(" Send Reset Link ",-1)])]),_:1},8,["disabled","loading"])],32)),o("div",F,[a(i,{variant:"body-sm",class:"ui-text"},{default:s(()=>[e[10]||(e[10]=l(" Remember your password? ",-1)),a($,{href:"/",class:"ui-primary hover:text-(--ui-primary) font-medium ml-1"},{default:s(()=>[...e[9]||(e[9]=[l(" Back to Sign In ",-1)])]),_:1})]),_:1})])]))}};export{I as default};
